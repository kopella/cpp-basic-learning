# 基本概念

## C++ 是什么样的编程语言

C++ 是一门编译型语言.
> 这意味着要想运行一段 C++ 程序, 需要首先使用编译器把源文件转化为对象文件, 然后再用链接器把这些对象文件生成可执行程序.
>
> 由此, C++ 程序的可移植性通常指的是源代码的可移植性, 即同一份源代码可以在不同系统上成功编译并运行.

C++ 是一门静态类型语言.
> 这意味着编译器在处理任何 C++ 的实体（如对象、值、名称和表达式）时,都必须清楚它的类型.

## C++ 的类型与变量

每个名字和每个表达式都需要有一个类型, 类型决定了它们所能执行的操作.

一个实体的被指定的类型通常包括了:

- 类型(type) 定义一组可能的值以及一组操作
- 对象(object) 是存放某类型值的内存空间
- 值(value) 是一组二进制位,具体的含义由其类型确定
- 变量(variable) 是一个命名的对象

一般使用声明(declaration)语句负责为程序引入一个新名字,并指定该命名实体的类型.
> 基本类型是与硬件特性直接相关的类型, 尺寸固定不变.

在赋值运算和算数运算中, C++ 会在基本类型间进行所有有意义的类型转换,以便自由地进行混合运算.

> ```cpp
> void func()
> {
>     double d = 2.2;
>     int i = 7;
>     d = d+i;
>     i = d*i;
> }
> ```
>
> 这一部分代码中发生了 `int` 与 `double` 之间的类型转化.
>
> 如果在初始化过程中, 不想要发生这种类型转化的话, 可以使用 `{}` 的列表初始化形式.

如果变量的类型可以由初始化器得到, 可以使用 `auto` 与 `=` 配合, 这样就不存在可能引发错误的类型转换.

> 如果没有明显的理由需要显式指定数据类型时, 一般都使用 `auto`
> 明显的理由包括:
>
> - 希望代码的读者清楚地知道类型;
> - 希望明确规定某个变量地范围和精度（比如 `double` 与 `float`）.

## C++ 的常量

C++ 支持两种不变形式: `const` 与 `constexp`.

`const`, 即 constant, 大致意思为“承诺不改变这个值”, 主要用于说明接口. 编译器会确认并执行 `const` 的承诺.

`constexpr`, 即 constant expression, 也就是常量表达式, 大致意思为“要求该表达式在编译时求值”, 主要用于说明常量. 作用是允许将数据置于只读内存中以及提升性能.

## C++ 的选择和循环

C++ 提供了一套用于表示选择和循环结构的常规语句.

## C++ 的指针和引用

在声明语句中, `*` 表示某种类型的指针, `&` 表示某种类型的引用,`[]` 表示连续分配的某种类型所组成的数组对象. 这些运算符又被统一称为声明运算符, 即声明符.

> ```cpp
> T* p; //T*: 指向 T 的指针.
> T& r; //T&: 指向 T 的引用.
> T a[n]; //T[n]: n 个 T 组成的数组.
> ```

在表达式中, 前置一元运算符`*` 表示“……的内容”, 前置一元运算符`&` 表示“……的地址”.

> ```cpp
> char *p = &a[3]; //p 指向数组 a 的第四个元素.

## C++ 的用户自定类型

可以通过使用基本类型、`const` 修饰符、声明符构造出的类型被称为内置类型.

利用 C++ 的抽象机制构建的新类型被称为用户自定义类型.

- 结构(`struct`)

将所有需要的元素组织而成的数据结构.

- 类(`class`)

将数据和对数据的操作结合在一起的结构.

- 枚举(`enum`)

用于描述小规模整数值集合的结构.

## C++ 的模块化

- 分离编译

C++ 支持将描述接口的声明放在一个特定的文件中，它们的定义放在分离的源文件中，并被分别编译.

这种机制有助于将程序组织成半独立的代码片段, 并减少编译时间.

- 命名空间(`namespace`)

用于表示某些声明属于一个整体，以及表面它们的名字不会与其他命名空间的名字冲突.

- 错误处理

C++ 支持异常和断言的错误处理机制.
